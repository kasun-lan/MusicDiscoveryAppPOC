<Window x:Class="MusicDiscoveryAppPOC.CreatePlaylistWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Create Playlist"
        Width="620"
        Height="540"
        WindowStartupLocation="CenterOwner">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <StackPanel Orientation="Vertical" Grid.Row="0">
            <TextBlock Text="Playlist details"
                       FontSize="20"
                       FontWeight="Bold" />
            <TextBlock Text="Select the tracks you want to include and give your playlist a name."
                       Foreground="Gray"
                       Margin="0,4,0,12" />
        </StackPanel>

        <Grid Grid.Row="1" Margin="0,0,0,12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <StackPanel Margin="0,0,12,0">
                <TextBlock Text="Playlist name" />
                <TextBox Text="{Binding PlaylistName, UpdateSourceTrigger=PropertyChanged}"
                         Margin="0,4,0,0"
                         x:Name="PlaylistNameTextBox" />
            </StackPanel>
            <StackPanel Grid.Column="1">
                <TextBlock Text="Description (optional)" />
                <TextBox Text="{Binding PlaylistDescription, UpdateSourceTrigger=PropertyChanged}"
                         Margin="0,4,0,0"
                         AcceptsReturn="True"
                         Height="60"
                         TextWrapping="Wrap" />
            </StackPanel>
        </Grid>

        <GroupBox Grid.Row="2" Header="Tracks">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <StackPanel Orientation="Horizontal"
                            Grid.Row="0"
                            Margin="0,0,0,8"
                            VerticalAlignment="Center">
                    <TextBlock Text="{Binding SelectedCountText}"
                               FontWeight="Bold"
                               Margin="0,0,12,0" />
                    <Button Content="Select All"
                            Width="90"
                            Margin="0,0,8,0"
                            Click="OnSelectAllClicked" />
                    <Button Content="Select None"
                            Width="110"
                            Click="OnSelectNoneClicked" />
                </StackPanel>

                <ListView Grid.Row="1"
                          ItemsSource="{Binding Tracks}"
                          SelectionMode="Extended">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Border BorderBrush="#15000000"
                                    BorderThickness="0,0,0,1"
                                    Padding="4">
                                <DockPanel>
                                    <CheckBox IsChecked="{Binding IsSelected, Mode=TwoWay}"
                                              VerticalAlignment="Center"
                                              Margin="0,0,8,0" />
                                    <StackPanel>
                                        <TextBlock Text="{Binding Track.Name}"
                                                   FontWeight="Bold"
                                                   TextWrapping="Wrap" />
                                        <TextBlock Text="{Binding Track.ArtistName}"
                                                   Foreground="DimGray" />
                                        <TextBlock Text="{Binding Track.AlbumName}"
                                                   Foreground="Gray" />
                                    </StackPanel>
                                </DockPanel>
                            </Border>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </Grid>
        </GroupBox>

        <StackPanel Grid.Row="3"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0,12,0,0">
            <TextBlock x:Name="StatusTextBlock"
                       VerticalAlignment="Center"
                       Foreground="Gray"
                       Margin="0,0,12,0" />
            <Button Content="Copy List"
                    Width="110"
                    Margin="0,0,8,0"
                    Click="OnCopyClicked" />
            <Button Content="Save Playlist"
                    Width="130"
                    Margin="0,0,8,0"
                    Click="OnSaveClicked" />
            <Button Content="Close"
                    Width="90"
                    Click="OnCloseClicked" />
        </StackPanel>
    </Grid>
</Window>

