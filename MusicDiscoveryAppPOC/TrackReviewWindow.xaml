<Window x:Class="MusicDiscoveryAppPOC.TrackReviewWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Track Review"
        Width="600"
        Height="500"
        WindowStartupLocation="CenterOwner"
        KeyDown="OnWindowKeyDown">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <StackPanel Orientation="Horizontal" Grid.Row="0">
            <TextBlock Text="Track"
                       FontWeight="Bold"
                       Margin="0,0,8,0" />
            <TextBlock x:Name="ProgressTextBlock"
                       Foreground="Gray" />
        </StackPanel>

        <Border Grid.Row="1"
                Margin="0,12,0,12"
                Padding="16"
                Background="#0F000000"
                CornerRadius="8">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="160" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Border CornerRadius="8" BorderBrush="#19000000" BorderThickness="1" Margin="0,0,16,0">
                    <Image x:Name="AlbumCoverImage"
                           Stretch="UniformToFill" />
                </Border>

                <StackPanel Grid.Column="1">
                    <TextBlock x:Name="TrackTitleTextBlock"
                               FontSize="20"
                               FontWeight="Bold"
                               TextWrapping="Wrap" />
                    <TextBlock x:Name="ArtistTextBlock"
                               Margin="0,8,0,0"
                               FontSize="16"
                               Foreground="DimGray"
                               TextWrapping="Wrap" />
                    <TextBlock x:Name="AlbumTextBlock"
                               Margin="0,8,0,0"
                               TextWrapping="Wrap" />
                    <TextBlock x:Name="PopularityTextBlock"
                               Margin="0,8,0,0"
                               Foreground="Gray" />
                    <StackPanel Orientation="Horizontal" Margin="0,12,0,0">
                        <TextBlock Text="Spotify: " FontWeight="Bold" />
                        <TextBlock>
                            <Hyperlink x:Name="SpotifyLink" RequestNavigate="OnHyperlinkNavigate">Open in browser</Hyperlink>
                        </TextBlock>
                    </StackPanel>
                    <StackPanel Margin="0,12,0,0">
                        <TextBlock Text="Preview:" FontWeight="Bold" Margin="0,0,0,4" />
                        <StackPanel Orientation="Horizontal">
                            <Button x:Name="PlayPauseButton"
                                    Content="▶ Play"
                                    Width="80"
                                    Height="30"
                                    Margin="0,0,8,0"
                                    Click="OnPlayPauseClicked" />
                            <MediaElement x:Name="PreviewMediaElement"
                                         LoadedBehavior="Manual"
                                         UnloadedBehavior="Stop"
                                         Volume="0.5"
                                         MediaEnded="OnPreviewEnded"
                                         Visibility="Collapsed" />
                            <TextBlock x:Name="PreviewStatusTextBlock"
                                      VerticalAlignment="Center"
                                      Foreground="Gray"
                                      Text="Unavailable" />
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </Border>

        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center">
            <Button Content="Skip (←)"
                    Width="150"
                    Margin="0,0,12,0"
                    Click="OnSkipClicked" />
            <Button Content="Keep (→)"
                    Width="150"
                    Click="OnKeepClicked" />
        </StackPanel>
    </Grid>
</Window>

